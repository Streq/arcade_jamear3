[gd_scene load_steps=22 format=2]

[ext_resource path="res://src/main.tscn" type="PackedScene" id=1]
[ext_resource path="res://src/render/indexed_sprite.gd" type="Script" id=2]
[ext_resource path="res://src/terrain/puzzle_terrain.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/flapper/presets/super_glider.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/test/enemy_test/portal/portal_sprite.gd" type="Script" id=5]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;
uniform int palette_size = 4;
uniform float offset : hint_range(0, 8, 1);
uniform sampler2D palette;

void fragment(){
	vec4 tex = texture(TEXTURE, UV);
	//used as index for the palette texture
	float blue_1 = tex.b;
	
	float palette_index = mod(blue_1 * (255.0) + offset+0.5,float(palette_size));
	float h_pixel_size = 1.0/float(palette_size);
	vec2 palette_pixel = vec2(palette_index*(h_pixel_size), 0.0);
	
	COLOR.rgb = texture(palette, palette_pixel).rgb;
	COLOR.a = tex.a;
	
}"

[sub_resource type="Image" id=47]
data = {
"data": PoolByteArray( 0, 0, 0, 255, 0, 0, 0, 255, 0, 0, 0, 255, 172, 56, 0, 255 ),
"format": "RGBA8",
"height": 1,
"mipmaps": false,
"width": 4
}

[sub_resource type="ImageTexture" id=24]
flags = 0
flags = 0
image = SubResource( 47 )
size = Vector2( 4, 1 )

[sub_resource type="ShaderMaterial" id=4]
resource_local_to_scene = true
shader = SubResource( 1 )
shader_param/palette_size = 4
shader_param/offset = null
shader_param/palette = SubResource( 24 )

[sub_resource type="Shader" id=26]
code = "shader_type canvas_item;
uniform int palette_size = 4;
uniform float offset : hint_range(0, 8, 1);
uniform sampler2D palette;

void fragment(){
	vec4 tex = texture(TEXTURE, UV);
	//used as index for the palette texture
	float blue_1 = tex.b;
	
	float palette_index = mod(blue_1 * (255.0) + offset+0.5,float(palette_size));
	float h_pixel_size = 1.0/float(palette_size);
	vec2 palette_pixel = vec2(palette_index*(h_pixel_size), 0.0);
	
	COLOR.rgb = texture(palette, palette_pixel).rgb;
	COLOR.a = tex.a;
	
}"

[sub_resource type="Image" id=48]
data = {
"data": PoolByteArray( 0, 0, 0, 255, 0, 0, 0, 255, 255, 179, 0, 255, 255, 72, 0, 255 ),
"format": "RGBA8",
"height": 1,
"mipmaps": false,
"width": 4
}

[sub_resource type="ImageTexture" id=28]
flags = 0
flags = 0
image = SubResource( 48 )
size = Vector2( 4, 1 )

[sub_resource type="ShaderMaterial" id=22]
resource_local_to_scene = true
shader = SubResource( 26 )
shader_param/palette_size = 4
shader_param/offset = null
shader_param/palette = SubResource( 28 )

[sub_resource type="Shader" id=42]
code = "shader_type canvas_item;
uniform sampler2D other_world;
uniform vec2 position;
uniform vec2 sprite_rect_offset;



void fragment(){
	vec4 tex = texture(TEXTURE, UV);
	vec2 point = (UV-sprite_rect_offset*TEXTURE_PIXEL_SIZE)/TEXTURE_PIXEL_SIZE/53.0;
	
	COLOR.rgb = texture(other_world, vec2(point.x,1.0-point.y)).rgb;
	COLOR.rgb *= tex.r;
//	COLOR.rgb = texture(other_world, UV).rgb;
	COLOR.a = tex.a;
	
}"

[sub_resource type="ViewportTexture" id=46]
viewport_path = NodePath("ViewportContainer/Viewport")

[sub_resource type="ShaderMaterial" id=43]
resource_local_to_scene = true
shader = SubResource( 42 )
shader_param/position = null
shader_param/sprite_rect_offset = null
shader_param/other_world = SubResource( 46 )

[sub_resource type="StreamTexture" id=31]
load_path = "res://.import/portal_orb.png-12f3895f12bcf5fcc259c4e66a058e39.stex"

[sub_resource type="Animation" id=32]
resource_name = "play"
length = 0.8
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.05, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 0.55, 0.6, 0.65, 0.7, 0.75 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0, 11.0, 12.0, 13.0, 14.0, 15.0 ]
}

[sub_resource type="Animation" id=35]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ) ]
}

[sub_resource type="Animation" id=39]
resource_name = "close"
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:scale")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 3.73214, 0.267943 ),
"update": 0,
"values": [ Vector2( 1, 1 ), Vector2( 1e-05, 1e-05 ) ]
}

[sub_resource type="Animation" id=36]
resource_name = "open"
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:scale")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 0.267943, 1 ),
"update": 0,
"values": [ Vector2( 1e-05, 1e-05 ), Vector2( 1, 1 ) ]
}

[node name="Node2D" type="Node2D"]

[node name="terrain_palette" type="Node2D" parent="."]
material = SubResource( 4 )
script = ExtResource( 2 )
palette = PoolColorArray( 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.67451, 0.223529, 0, 1 )

[node name="TileMap" parent="terrain_palette" groups=["map"] instance=ExtResource( 3 )]
use_parent_material = true
tile_data = PoolIntArray( 0, 2, 65537, 1, 2, 2, 2, 2, 2, 3, 2, 2, 4, 2, 2, 5, 2, 2, 6, 2, 2, 7, 2, 2, 8, 2, 2, 9, 2, 2, 10, 2, 2, 11, 2, 2, 12, 2, 2, 13, 2, 2, 14, 2, 2, 15, 2, 2, 16, 2, 2, 17, 2, 2, 18, 2, 2, 19, 2, 2, 20, 2, 2, 21, 2, 2, 22, 2, 2, 23, 2, 2, 24, 2, 2, 25, 2, 2, 26, 2, 2, 27, 2, 2, 28, 2, 2, 29, 2, 2, 30, 2, 2, 31, 2, 2, 32, 2, 2, 33, 2, 2, 34, 2, 2, 35, 2, 2, 36, 2, 2, 37, 2, 2, 38, 2, 2, 39, 2, 2, 40, 2, 2, 41, 2, 2, 42, 2, 2, 43, 2, 2, 44, 2, 2, 45, 2, 2, 46, 2, 2, 47, 2, 2, 48, 2, 2, 49, 2, 2, 50, 2, 2, 51, 2, 2, 52, 2, 2, 53, 2, 2, 54, 2, 2, 55, 2, 2, 56, 2, 2, 57, 2, 2, 58, 2, 2, 59, 2, 2, 60, 2, 2, 61, 2, 2, 62, 2, 2, 63, 2, 2, 64, 2, 2, 65, 2, 2, 66, 2, 2, 67, 2, 2, 68, 2, 2, 69, 2, 2, 70, 2, 2, 71, 2, 2, 72, 2, 2, 73, 2, 2, 74, 2, 2, 75, 2, 2, 76, 2, 2, 77, 2, 2, 78, 2, 2, 79, 2, 2, 80, 2, 2, 81, 2, 2, 82, 2, 2, 83, 2, 2, 84, 2, 2, 85, 2, 2, 86, 2, 2, 87, 2, 2, 88, 2, 2, 89, 2, 2, 90, 2, 2, 91, 2, 2, 92, 2, 2, 93, 2, 2, 94, 2, 2, 95, 2, 2, 96, 2, 2, 97, 2, 2, 98, 2, 2, 99, 2, 2, 100, 2, 2, 101, 2, 2, 102, 2, 2, 103, 2, 2, 104, 2, 2, 105, 2, 2, 106, 2, 2, 107, 2, 2, 108, 2, 2, 109, 2, 2, 110, 2, 2, 111, 2, 2, 112, 2, 2, 113, 2, 2, 114, 2, 2, 115, 2, 2, 116, 2, 2, 117, 2, 2, 118, 2, 2, 119, 2, 65539, 65536, 2, 131072, 65655, 2, 131072, 131072, 2, 131072, 131191, 2, 131072, 196608, 2, 131072, 196727, 2, 131072, 262144, 2, 131072, 262263, 2, 131072, 327680, 2, 131072, 327799, 2, 131072, 393216, 2, 131072, 393335, 2, 131072, 458752, 2, 131072, 458871, 2, 131072, 524288, 2, 131072, 524407, 2, 131072, 589824, 2, 131072, 589943, 2, 131072, 655360, 2, 131072, 655479, 2, 131072, 720896, 2, 131072, 721015, 2, 131072, 786432, 2, 131072, 786551, 2, 131072, 851968, 2, 131072, 852087, 2, 131072, 917504, 2, 131072, 917623, 2, 131072, 983040, 2, 131072, 983159, 2, 131072, 1048576, 2, 131072, 1048695, 2, 131072, 1114112, 2, 131072, 1114231, 2, 131072, 1179648, 2, 131072, 1179767, 2, 131072, 1245184, 2, 131072, 1245303, 2, 131072, 1310720, 2, 131072, 1310839, 2, 131072, 1376256, 2, 131072, 1376375, 2, 131072, 1441792, 2, 131072, 1441856, 2, 65537, 1441857, 2, 65538, 1441858, 2, 65538, 1441859, 2, 65538, 1441860, 2, 65538, 1441861, 2, 65538, 1441862, 2, 65539, 1441911, 2, 131072, 1507328, 2, 131072, 1507392, 2, 131073, 1507393, 2, 131074, 1507394, 2, 131074, 1507395, 2, 131074, 1507396, 2, 131074, 1507397, 2, 131074, 1507398, 2, 131075, 1507447, 2, 131072, 1572864, 2, 131072, 1572883, 2, 1, 1572884, 2, 2, 1572885, 2, 2, 1572886, 2, 2, 1572887, 2, 2, 1572888, 2, 2, 1572889, 2, 2, 1572890, 2, 2, 1572891, 2, 2, 1572892, 2, 2, 1572893, 2, 2, 1572894, 2, 2, 1572895, 2, 2, 1572896, 2, 2, 1572897, 2, 2, 1572898, 2, 2, 1572899, 2, 2, 1572900, 2, 2, 1572901, 2, 2, 1572902, 2, 2, 1572903, 2, 2, 1572904, 2, 2, 1572905, 2, 3, 1572928, 2, 196609, 1572929, 2, 196610, 1572930, 2, 196610, 1572931, 2, 196610, 1572932, 2, 196610, 1572933, 2, 196610, 1572934, 2, 196611, 1572983, 2, 131072, 1638400, 2, 131072, 1638482, 2, 65537, 1638483, 2, 65538, 1638484, 2, 65538, 1638485, 2, 65538, 1638486, 2, 65538, 1638487, 2, 65538, 1638488, 2, 65538, 1638489, 2, 65538, 1638490, 2, 65538, 1638491, 2, 65538, 1638492, 2, 65538, 1638493, 2, 65538, 1638494, 2, 65538, 1638495, 2, 65538, 1638496, 2, 65538, 1638497, 2, 65538, 1638498, 2, 65538, 1638499, 2, 65538, 1638500, 2, 65538, 1638501, 2, 65538, 1638502, 2, 65538, 1638503, 2, 65539, 1638519, 2, 131072, 1703936, 2, 131072, 1704018, 2, 196609, 1704019, 2, 196610, 1704020, 2, 196610, 1704021, 2, 196610, 1704022, 2, 196610, 1704023, 2, 196610, 1704024, 2, 196610, 1704025, 2, 196610, 1704026, 2, 196610, 1704027, 2, 196610, 1704028, 2, 196610, 1704029, 2, 196610, 1704030, 2, 196610, 1704031, 2, 196610, 1704032, 2, 196610, 1704033, 2, 196610, 1704034, 2, 196610, 1704035, 2, 196610, 1704036, 2, 196610, 1704037, 2, 196610, 1704038, 2, 196610, 1704039, 2, 196611, 1704055, 2, 131072, 1769472, 2, 131072, 1769591, 2, 131072, 1835008, 2, 131072, 1835127, 2, 131072, 1900544, 2, 131072, 1900663, 2, 131072, 1966080, 2, 131072, 1966199, 2, 131072, 2031616, 2, 131072, 2031735, 2, 131072, 2097152, 2, 131072, 2097271, 2, 131072, 2162688, 2, 131072, 2162807, 2, 131072, 2228224, 2, 131072, 2228254, 2, 65537, 2228255, 2, 65538, 2228256, 2, 65538, 2228257, 2, 65538, 2228258, 2, 65538, 2228259, 2, 65538, 2228260, 2, 65538, 2228261, 2, 65538, 2228262, 2, 65538, 2228263, 2, 65539, 2228343, 2, 131072, 2293760, 2, 131072, 2293790, 2, 131073, 2293791, 2, 131074, 2293792, 2, 131074, 2293793, 2, 131074, 2293794, 2, 131074, 2293795, 2, 131074, 2293796, 2, 131074, 2293797, 2, 131074, 2293798, 2, 131074, 2293799, 2, 131075, 2293879, 2, 131072, 2359296, 2, 131072, 2359326, 2, 131073, 2359327, 2, 131074, 2359328, 2, 131074, 2359329, 2, 131074, 2359330, 2, 131074, 2359331, 2, 131074, 2359332, 2, 131074, 2359333, 2, 131074, 2359334, 2, 131074, 2359335, 2, 131075, 2359415, 2, 131072, 2424832, 2, 131072, 2424862, 2, 131073, 2424863, 2, 131074, 2424864, 2, 131074, 2424865, 2, 131074, 2424866, 2, 131074, 2424867, 2, 131074, 2424868, 2, 131074, 2424869, 2, 131074, 2424870, 2, 131074, 2424871, 2, 131075, 2424951, 2, 131072, 2490368, 2, 131072, 2490398, 2, 131073, 2490399, 2, 131074, 2490400, 2, 131074, 2490401, 2, 131074, 2490402, 2, 131074, 2490403, 2, 131074, 2490404, 2, 131074, 2490405, 2, 131074, 2490406, 2, 131074, 2490407, 2, 131075, 2490450, 2, 65537, 2490451, 2, 65538, 2490452, 2, 65538, 2490453, 2, 65538, 2490454, 2, 65538, 2490455, 2, 65538, 2490456, 2, 65538, 2490457, 2, 65538, 2490458, 2, 65538, 2490459, 2, 65539, 2490487, 2, 131072, 2555904, 2, 131072, 2555934, 2, 196609, 2555935, 2, 196610, 2555936, 2, 196610, 2555937, 2, 196610, 2555938, 2, 196610, 2555939, 2, 196610, 2555940, 2, 196610, 2555941, 2, 196610, 2555942, 2, 196610, 2555943, 2, 196611, 2555986, 2, 131073, 2555987, 2, 131074, 2555988, 2, 131074, 2555989, 2, 131074, 2555990, 2, 131074, 2555991, 2, 131074, 2555992, 2, 131074, 2555993, 2, 131074, 2555994, 2, 131074, 2555995, 2, 131075, 2556023, 2, 131072, 2621440, 2, 131072, 2621522, 2, 131073, 2621523, 2, 131074, 2621524, 2, 131074, 2621525, 2, 131074, 2621526, 2, 131074, 2621527, 2, 131074, 2621528, 2, 131074, 2621529, 2, 131074, 2621530, 2, 131074, 2621531, 2, 131075, 2621559, 2, 131072, 2686976, 2, 131072, 2687058, 2, 131073, 2687059, 2, 131074, 2687060, 2, 131074, 2687061, 2, 131074, 2687062, 2, 131074, 2687063, 2, 131074, 2687064, 2, 131074, 2687065, 2, 131074, 2687066, 2, 131074, 2687067, 2, 131075, 2687095, 2, 131072, 2752512, 2, 131072, 2752594, 2, 196609, 2752595, 2, 196610, 2752596, 2, 196610, 2752597, 2, 196610, 2752598, 2, 196610, 2752599, 2, 196610, 2752600, 2, 196610, 2752601, 2, 196610, 2752602, 2, 196610, 2752603, 2, 196611, 2752631, 2, 131072, 2818048, 2, 131072, 2818167, 2, 131072, 2883584, 2, 131072, 2883632, 2, 65537, 2883633, 2, 65538, 2883634, 2, 65538, 2883635, 2, 65538, 2883636, 2, 65538, 2883637, 2, 65538, 2883638, 2, 65538, 2883639, 2, 65538, 2883640, 2, 65538, 2883641, 2, 65538, 2883642, 2, 65538, 2883643, 2, 65538, 2883644, 2, 65538, 2883645, 2, 65538, 2883646, 2, 65538, 2883647, 2, 65538, 2883648, 2, 65538, 2883649, 2, 65538, 2883650, 2, 65538, 2883651, 2, 65538, 2883652, 2, 65538, 2883653, 2, 65538, 2883654, 2, 65538, 2883655, 2, 65539, 2883703, 2, 131072, 2949120, 2, 131072, 2949168, 2, 131073, 2949169, 2, 131074, 2949170, 2, 131074, 2949171, 2, 131074, 2949172, 2, 131074, 2949173, 2, 131074, 2949174, 2, 131074, 2949175, 2, 131074, 2949176, 2, 131074, 2949177, 2, 131074, 2949178, 2, 131074, 2949179, 2, 131074, 2949180, 2, 131074, 2949181, 2, 131074, 2949182, 2, 131074, 2949183, 2, 131074, 2949184, 2, 131074, 2949185, 2, 131074, 2949186, 2, 131074, 2949187, 2, 131074, 2949188, 2, 131074, 2949189, 2, 131074, 2949190, 2, 131074, 2949191, 2, 131075, 2949239, 2, 131072, 3014656, 2, 131072, 3014704, 2, 131073, 3014705, 2, 131074, 3014706, 2, 131074, 3014707, 2, 131074, 3014708, 2, 131074, 3014709, 2, 131074, 3014710, 2, 131074, 3014711, 2, 131074, 3014712, 2, 131074, 3014713, 2, 131074, 3014714, 2, 131074, 3014715, 2, 131074, 3014716, 2, 131074, 3014717, 2, 131074, 3014718, 2, 131074, 3014719, 2, 131074, 3014720, 2, 131074, 3014721, 2, 131074, 3014722, 2, 131074, 3014723, 2, 131074, 3014724, 2, 131074, 3014725, 2, 131074, 3014726, 2, 131074, 3014727, 2, 131075, 3014775, 2, 131072, 3080192, 2, 131072, 3080240, 2, 196609, 3080241, 2, 196610, 3080242, 2, 196610, 3080243, 2, 196610, 3080244, 2, 196610, 3080245, 2, 196610, 3080246, 2, 196610, 3080247, 2, 196610, 3080248, 2, 196610, 3080249, 2, 196610, 3080250, 2, 196610, 3080251, 2, 196610, 3080252, 2, 196610, 3080253, 2, 196610, 3080254, 2, 196610, 3080255, 2, 196610, 3080256, 2, 196610, 3080257, 2, 196610, 3080258, 2, 196610, 3080259, 2, 196610, 3080260, 2, 196610, 3080261, 2, 196610, 3080262, 2, 196610, 3080263, 2, 196611, 3080311, 2, 131072, 3145728, 2, 131072, 3145847, 2, 131072, 3211264, 2, 131072, 3211383, 2, 131072, 3276800, 2, 131072, 3276919, 2, 131072, 3342336, 2, 131072, 3342455, 2, 131072, 3407872, 2, 131072, 3407960, 2, 65537, 3407961, 2, 65538, 3407962, 2, 65538, 3407963, 2, 65538, 3407964, 2, 65538, 3407965, 2, 65538, 3407966, 2, 65538, 3407967, 2, 65538, 3407968, 2, 65538, 3407969, 2, 65538, 3407970, 2, 65538, 3407971, 2, 65539, 3407991, 2, 131072, 3473408, 2, 131072, 3473422, 2, 1, 3473423, 2, 2, 3473424, 2, 2, 3473425, 2, 2, 3473426, 2, 2, 3473427, 2, 2, 3473428, 2, 2, 3473429, 2, 2, 3473430, 2, 2, 3473431, 2, 2, 3473432, 2, 2, 3473433, 2, 2, 3473434, 2, 2, 3473435, 2, 2, 3473436, 2, 2, 3473437, 2, 3, 3473496, 2, 131073, 3473497, 2, 131074, 3473498, 2, 131074, 3473499, 2, 131074, 3473500, 2, 131074, 3473501, 2, 131074, 3473502, 2, 131074, 3473503, 2, 131074, 3473504, 2, 131074, 3473505, 2, 131074, 3473506, 2, 131074, 3473507, 2, 131075, 3473527, 2, 131072, 3538944, 2, 131072, 3539032, 2, 131073, 3539033, 2, 131074, 3539034, 2, 131074, 3539035, 2, 131074, 3539036, 2, 131074, 3539037, 2, 131074, 3539038, 2, 131074, 3539039, 2, 131074, 3539040, 2, 131074, 3539041, 2, 131074, 3539042, 2, 131074, 3539043, 2, 131075, 3539063, 2, 131072, 3604480, 2, 131072, 3604568, 2, 131073, 3604569, 2, 131074, 3604570, 2, 131074, 3604571, 2, 131074, 3604572, 2, 131074, 3604573, 2, 131074, 3604574, 2, 131074, 3604575, 2, 131074, 3604576, 2, 131074, 3604577, 2, 131074, 3604578, 2, 131074, 3604579, 2, 131075, 3604599, 2, 131072, 3670016, 2, 131072, 3670104, 2, 196609, 3670105, 2, 196610, 3670106, 2, 196610, 3670107, 2, 196610, 3670108, 2, 196610, 3670109, 2, 196610, 3670110, 2, 196610, 3670111, 2, 196610, 3670112, 2, 196610, 3670113, 2, 196610, 3670114, 2, 196610, 3670115, 2, 196611, 3670135, 2, 131072, 3735552, 2, 131072, 3735671, 2, 131072, 3801088, 2, 131072, 3801207, 2, 131072, 3866624, 2, 131072, 3866743, 2, 131072, 3932160, 2, 131072, 3932279, 2, 131072, 3997696, 2, 131072, 3997815, 2, 131072, 4063232, 2, 131072, 4063351, 2, 131072, 4128768, 2, 131072, 4128887, 2, 131072, 4194304, 2, 131072, 4194423, 2, 131072, 4259840, 2, 131072, 4259959, 2, 131072, 4325376, 2, 131072, 4325434, 2, 65537, 4325435, 2, 65539, 4325495, 2, 131072, 4390912, 2, 196609, 4390913, 2, 2, 4390914, 2, 2, 4390915, 2, 2, 4390916, 2, 2, 4390917, 2, 2, 4390918, 2, 2, 4390919, 2, 2, 4390920, 2, 2, 4390921, 2, 2, 4390922, 2, 2, 4390923, 2, 2, 4390924, 2, 2, 4390925, 2, 2, 4390926, 2, 2, 4390927, 2, 2, 4390928, 2, 2, 4390929, 2, 2, 4390930, 2, 2, 4390931, 2, 2, 4390932, 2, 2, 4390933, 2, 2, 4390934, 2, 2, 4390935, 2, 2, 4390936, 2, 2, 4390937, 2, 2, 4390938, 2, 2, 4390939, 2, 2, 4390940, 2, 2, 4390941, 2, 2, 4390942, 2, 2, 4390943, 2, 2, 4390944, 2, 2, 4390945, 2, 2, 4390946, 2, 2, 4390947, 2, 2, 4390948, 2, 2, 4390949, 2, 2, 4390950, 2, 2, 4390951, 2, 2, 4390952, 2, 2, 4390953, 2, 2, 4390954, 2, 2, 4390955, 2, 2, 4390956, 2, 2, 4390957, 2, 2, 4390958, 2, 2, 4390959, 2, 2, 4390960, 2, 2, 4390961, 2, 2, 4390962, 2, 2, 4390963, 2, 2, 4390964, 2, 2, 4390965, 2, 2, 4390966, 2, 2, 4390967, 2, 2, 4390968, 2, 2, 4390969, 2, 2, 4390970, 2, 196610, 4390971, 2, 196610, 4390972, 2, 2, 4390973, 2, 2, 4390974, 2, 2, 4390975, 2, 2, 4390976, 2, 2, 4390977, 2, 2, 4390978, 2, 2, 4390979, 2, 2, 4390980, 2, 2, 4390981, 2, 2, 4390982, 2, 2, 4390983, 2, 2, 4390984, 2, 2, 4390985, 2, 2, 4390986, 2, 2, 4390987, 2, 2, 4390988, 2, 2, 4390989, 2, 2, 4390990, 2, 2, 4390991, 2, 2, 4390992, 2, 2, 4390993, 2, 2, 4390994, 2, 2, 4390995, 2, 2, 4390996, 2, 2, 4390997, 2, 2, 4390998, 2, 2, 4390999, 2, 2, 4391000, 2, 2, 4391001, 2, 2, 4391002, 2, 2, 4391003, 2, 2, 4391004, 2, 2, 4391005, 2, 2, 4391006, 2, 2, 4391007, 2, 2, 4391008, 2, 2, 4391009, 2, 2, 4391010, 2, 2, 4391011, 2, 2, 4391012, 2, 2, 4391013, 2, 2, 4391014, 2, 2, 4391015, 2, 2, 4391016, 2, 2, 4391017, 2, 2, 4391018, 2, 2, 4391019, 2, 2, 4391020, 2, 2, 4391021, 2, 2, 4391022, 2, 2, 4391023, 2, 2, 4391024, 2, 2, 4391025, 2, 2, 4391026, 2, 2, 4391027, 2, 2, 4391028, 2, 2, 4391029, 2, 2, 4391030, 2, 2, 4391031, 2, 196611 )

[node name="flapper_with_energy" type="Node2D" parent="."]

[node name="super_glider" parent="flapper_with_energy" instance=ExtResource( 4 )]
position = Vector2( 827.829, 119.055 )
strong_flap = 100.0
weak_flap = 50.0
failed_strong_flap = 20.0
failed_weak_flap = 20.0
glide_opposite_break_threshold = 75.0
glide_friction = 0.3
animation_speed_multiplier = 4.0
friction = 0.03

[node name="Sprite" parent="flapper_with_energy/super_glider" index="0"]
material = SubResource( 22 )

[node name="glide" parent="flapper_with_energy/super_glider" index="21"]
max_volume = 0.0

[node name="ViewportContainer" type="ViewportContainer" parent="."]
margin_left = 45.0
margin_top = 22.0
margin_right = 1005.0
margin_bottom = 562.0

[node name="Viewport" type="Viewport" parent="ViewportContainer"]
size = Vector2( 53, 53 )
handle_input_locally = false
render_target_update_mode = 3

[node name="Node" parent="ViewportContainer/Viewport" instance=ExtResource( 1 )]

[node name="portal" type="Node2D" parent="."]
position = Vector2( 419.551, 135.17 )
z_index = -1

[node name="Sprite" type="Sprite" parent="portal"]
material = SubResource( 43 )
scale = Vector2( 1e-05, 1e-05 )
texture = SubResource( 31 )
hframes = 4
vframes = 4
frame = 6
script = ExtResource( 5 )
__meta__ = {
"_editor_description_": "YXNlcHJpdGVfd2l6YXJkX2NvbmZpZwpwbGF5ZXJ8PXBvcnRhbC9BbmltYXRpb25QbGF5ZXIKc291cmNlfD1yZXM6Ly9hc3NldHMvYXNlcHJpdGUvcG9ydGFsX29yYi5hc2Vwcml0ZQpsYXllcnw9Cm9wX2V4cHw9VHJ1ZQpvX2ZvbGRlcnw9Cm9fbmFtZXw9Cm9ubHlfdmlzaWJsZXw9RmFsc2UKb19leF9wfD0K"
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="portal"]
autoplay = "play"
anims/play = SubResource( 32 )

[node name="state_change" type="AnimationPlayer" parent="portal"]
autoplay = "open"
anims/RESET = SubResource( 35 )
anims/close = SubResource( 39 )
anims/open = SubResource( 36 )

[editable path="flapper_with_energy/super_glider"]
