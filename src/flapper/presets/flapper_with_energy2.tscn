[gd_scene load_steps=4 format=2]

[ext_resource path="res://src/camera/camera.gd" type="Script" id=1]
[ext_resource path="res://src/flapper/flapper.gd" type="Script" id=2]
[ext_resource path="res://src/flapper/presets/super_glider.tscn" type="PackedScene" id=3]

[node name="flapper_with_energy" type="Node2D"]

[node name="super_glider" type="KinematicBody2D" parent="." groups=["flapper"] instance=ExtResource( 3 )]
position = Vector2( 827.829, 119.055 )
collision_layer = 2
script = ExtResource( 2 )
air_friction = 0.0001
rotation_lerp = 8.0
strong_flap = 100.0
weak_flap = 50.0
failed_strong_flap = 20.0
failed_weak_flap = 20.0
glide_break_recovery_threshold = 135.0
glide_opposite_break_threshold = 75.0
glide_friction = 0.3
glide_opposite_friction = 0.2
hard_collision_threshold = 1000.0
graze_threshold = 1.0
animation_speed_multiplier = 4.0
custom_animation_lengths = {
"flap": -1.0,
"glide_flap": -1.0
}
friction = 0.03

[node name="camera" type="Camera2D" parent="super_glider"]
current = true
limit_smoothed = true
script = ExtResource( 1 )

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="super_glider"]
remote_path = NodePath("../../../HUD_map/Control/MarginContainer/ViewportContainer/Viewport/follow_player")

[connection signal="die" from="super_glider" to="super_glider/hurtbox/CollisionShape2D" method="set_disabled" flags=3 binds= [ true ]]
[connection signal="flapped" from="super_glider" to="super_glider/flap" method="play"]
[connection signal="graze" from="super_glider" to="super_glider/roce" method="trigger"]
[connection signal="hard_collision" from="super_glider" to="super_glider/many_feathers_slow" method="_on_collision"]
[connection signal="hard_collision" from="super_glider" to="super_glider/some_feathers_fast" method="_on_collision"]
[connection signal="hard_collision" from="super_glider" to="super_glider/hard_collision_detect" method="_on_hard_collision"]
[connection signal="hard_collision" from="super_glider" to="super_glider/on_hard_collision" method="trigger"]
[connection signal="soft_collision" from="super_glider" to="super_glider/feathers_on_soft" method="_on_collision"]
[connection signal="soft_collision" from="super_glider" to="super_glider/on_soft_collision" method="trigger"]
[connection signal="touch_collision" from="super_glider" to="super_glider/on_touch_collision" method="trigger"]
